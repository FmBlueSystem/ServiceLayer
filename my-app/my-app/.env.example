# Environment Configuration Template
# Copy this file to .env and configure for your environment

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
NODE_ENV=development
APP_PORT=3000
APP_NAME=my-multiplatform-app
APP_VERSION=1.0.0

# Security
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
BCRYPT_SALT_ROUNDS=12

# CORS Settings
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Request Settings
MAX_REQUEST_SIZE=10mb
REQUEST_TIMEOUT=30000

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=myapp
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_SSL=false
POSTGRES_MAX_CONNECTIONS=20
POSTGRES_IDLE_TIMEOUT=10000
POSTGRES_CONNECTION_TIMEOUT=5000

# Database URL (alternative to individual settings)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Migration Settings
DB_MIGRATE_AUTO=false
DB_SEED_AUTO=false

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_MEMORY=256mb
REDIS_KEY_PREFIX=myapp:

# Redis URL (alternative to individual settings)
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# Session Configuration
SESSION_SECRET=your-session-secret-change-this
SESSION_MAX_AGE=86400000
SESSION_SECURE=false

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=app.log
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# Debug Settings
DEBUG=app:*

# ============================================================================
# HEALTH CHECK & MONITORING
# ============================================================================
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
GRACEFUL_SHUTDOWN_TIMEOUT=10000

# External Service Health Checks
HEALTH_CHECK_DB=true
HEALTH_CHECK_REDIS=true

# Monitoring
MONITORING_ENABLED=false
METRICS_PORT=9090

# ============================================================================
# DOCKER & INFRASTRUCTURE
# ============================================================================
# Docker BuildX Settings
DOCKER_BUILDKIT=1
BUILDX_PLATFORMS=linux/amd64,linux/arm64

# Network Configuration
NETWORK_SUBNET=172.20.0.0/16

# Volume Paths (for production bind mounts)
POSTGRES_DATA_PATH=./data/postgres
REDIS_DATA_PATH=./data/redis
LOGS_PATH=./logs

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
# Hot Reload
CHOKIDAR_USEPOLLING=true
CHOKIDAR_INTERVAL=1000

# Development Tools
ADMINER_ENABLED=true
REDIS_COMMANDER_ENABLED=true
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin

# Mail Development
MAILDEV_ENABLED=true
SMTP_HOST=maildev
SMTP_PORT=1025

# ============================================================================
# PRODUCTION SETTINGS
# ============================================================================
# SSL/TLS
SSL_ENABLED=false
SSL_CERT_PATH=./docker/ssl/cert.pem
SSL_KEY_PATH=./docker/ssl/key.pem

# Nginx
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# Resource Limits
APP_MEMORY_LIMIT=512M
APP_CPU_LIMIT=1.0
APP_MEMORY_RESERVATION=256M
APP_CPU_RESERVATION=0.5

POSTGRES_MEMORY_LIMIT=1G
POSTGRES_CPU_LIMIT=1.0
POSTGRES_MEMORY_RESERVATION=512M
POSTGRES_CPU_RESERVATION=0.5

REDIS_MEMORY_LIMIT=512M
REDIS_CPU_LIMIT=0.5
REDIS_MEMORY_RESERVATION=256M
REDIS_CPU_RESERVATION=0.25

# PostgreSQL Performance Tuning
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB
POSTGRES_MAINTENANCE_WORK_MEM=64MB

# ============================================================================
# EXTERNAL INTEGRATIONS
# ============================================================================
# Email Service (Production)
EMAIL_SERVICE=smtp
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password

# File Storage
STORAGE_TYPE=local
STORAGE_PATH=./uploads
MAX_FILE_SIZE=10mb

# API Keys (if needed)
EXTERNAL_API_KEY=your-external-api-key
EXTERNAL_API_URL=https://api.example.com

# ============================================================================
# SAP INTEGRATION SETTINGS
# ============================================================================
SAP_ENDPOINT=https://sap-stiacmzdr-sl.skyinone.net:50000/
SAP_USERNAME=stifmolina2
SAP_PASSWORD=FmDiosMio1
SAP_TIMEOUT=10000
SAP_RETRIES=3
SAP_VERIFY_SSL=false

# ============================================================================
# TESTING SETTINGS
# ============================================================================
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/myapp_test
TEST_REDIS_URL=redis://localhost:6379/1
TEST_TIMEOUT=10000

# ============================================================================
# PLATFORM-SPECIFIC SETTINGS
# ============================================================================
# Build Arguments
NODE_VERSION=18
PLATFORM_CONFIG=

# Architecture Detection
TARGET_PLATFORM=auto
BUILD_PLATFORM=auto