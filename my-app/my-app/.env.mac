# macOS Development Environment Configuration
# Optimized for Apple Silicon (ARM64) and Intel Macs

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
NODE_ENV=development
APP_PORT=3000
APP_NAME=my-multiplatform-app

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=myapp_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password

DATABASE_URL=postgresql://postgres:password@localhost:5432/myapp_dev

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

REDIS_URL=redis://localhost:6379/0

# ============================================================================
# DEVELOPMENT SETTINGS
# ============================================================================
LOG_LEVEL=debug
DEBUG=app:*

# Hot Reload - macOS optimizations
CHOKIDAR_USEPOLLING=false
WATCHPACK_POLLING=false

# Development Tools
ADMINER_ENABLED=true
REDIS_COMMANDER_ENABLED=true
MAILDEV_ENABLED=true

# ============================================================================
# DOCKER SETTINGS (macOS)
# ============================================================================
# Use ARM64 architecture for local development on Apple Silicon
DOCKER_DEFAULT_PLATFORM=linux/arm64
BUILDX_PLATFORMS=linux/arm64

# macOS Docker Desktop optimizations
COMPOSE_DOCKER_CLI_BUILD=1
DOCKER_BUILDKIT=1

# Volume mounting optimizations for macOS
VOLUME_DRIVER_OPTS=cached

# ============================================================================
# PLATFORM-SPECIFIC PATHS
# ============================================================================
# Use Unix-style paths
POSTGRES_DATA_PATH=./data/postgres
REDIS_DATA_PATH=./data/redis
LOGS_PATH=./logs

# ============================================================================
# PERFORMANCE OPTIMIZATIONS (macOS)
# ============================================================================
# Reduce resource usage for local development
APP_MEMORY_LIMIT=256M
APP_CPU_LIMIT=0.5

POSTGRES_MEMORY_LIMIT=512M
POSTGRES_CPU_LIMIT=0.5
POSTGRES_SHARED_BUFFERS=128MB
POSTGRES_EFFECTIVE_CACHE_SIZE=512MB

REDIS_MEMORY_LIMIT=128M
REDIS_CPU_LIMIT=0.25

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================
NETWORK_SUBNET=172.20.0.0/16

# ============================================================================
# DEVELOPMENT TOOLS SPECIFIC TO macOS
# ============================================================================
# Use native file watching
USE_NATIVE_FSEVENTS=true

# Terminal and shell optimizations
TERM=xterm-256color
SHELL=/bin/zsh